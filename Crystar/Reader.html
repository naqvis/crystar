<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.28.0">


<link href="../css/style.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../js/doc.js"></script>
<script type="text/javascript">
  CrystalDoc.base_path = "../";
</script>

  <meta id="repository-name" content="github.com/naqvis/crystar">
  <title>Crystar::Reader - github.com/naqvis/crystar</title>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/naqvis/crystar/Crystar" data-name="crystar">
      <a href="../Crystar.html">Crystar</a>
      
        <ul>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/Error" data-name="crystar::error">
      <a href="../Crystar/Error.html">Error</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/ErrWriteTooLong" data-name="crystar::errwritetoolong">
      <a href="../Crystar/ErrWriteTooLong.html">ErrWriteTooLong</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/Format" data-name="crystar::format">
      <a href="../Crystar/Format.html">Format</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/Header" data-name="crystar::header">
      <a href="../Crystar/Header.html">Header</a>
      
    </li>
  
  <li class="parent open current" data-id="github.com/naqvis/crystar/Crystar/Reader" data-name="crystar::reader">
      <a href="../Crystar/Reader.html">Reader</a>
      
        <ul>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/Reader/FileReader" data-name="crystar::reader::filereader">
      <a href="../Crystar/Reader/FileReader.html">FileReader</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/SparseDatas" data-name="crystar::sparsedatas">
      <a href="../Crystar/SparseDatas.html">SparseDatas</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/SparseEntry" data-name="crystar::sparseentry">
      <a href="../Crystar/SparseEntry.html">SparseEntry</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/SparseHoles" data-name="crystar::sparseholes">
      <a href="../Crystar/SparseHoles.html">SparseHoles</a>
      
    </li>
  
  <li class=" " data-id="github.com/naqvis/crystar/Crystar/Writer" data-name="crystar::writer">
      <a href="../Crystar/Writer.html">Writer</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Crystar::Reader

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Crystar/Reader.html">Crystar::Reader</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>Overview</h2>

  <p>Reads tar file entries sequentially from an <code>IO</code>.</p>

<h3>Example</h3>

<pre><code><span class="k">require</span> <span class="s">&quot;tar&quot;</span>

<span class="t">File</span>.open(<span class="s">&quot;./file.tar&quot;</span>) <span class="k">do</span> <span class="o">|</span>file<span class="o">|</span>
  <span class="t">Crystar</span><span class="t">::</span><span class="t">Reader</span>.open(file) <span class="k">do</span> <span class="o">|</span>tar<span class="o">|</span>
    tar.each_entry <span class="k">do</span> <span class="o">|</span>entry<span class="o">|</span>
      p entry.name
      p entry.file?
      p entry.dir?
      p entry.io.gets_to_end
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>














  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L23" target="_blank">
        tar/reader.cr
      </a>
    
    <br/>
  





  <h2>Constructors</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28io%3AIO%2Csync_close%3Dfalse%29-class-method" class="signature"><strong>.new</strong>(io : IO, sync_close = <span class="n">false</span>)</a>
        
          <div class="summary"><p>Creates a new reader from the given <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new%28filename%3AString%29-class-method" class="signature"><strong>.new</strong>(filename : String)</a>
        
          <div class="summary"><p>Creates a new reader from the given <em>filename</em>.</p></div>
        
      </li>
    
  </ul>



  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#open%28io%3AIO%2Csync_close%3Dfalse%2C%26block%29-class-method" class="signature"><strong>.open</strong>(io : IO, sync_close = <span class="n">false</span>, &block)</a>
        
          <div class="summary"><p>Creates a new reader from the given <em>io</em>, yields it to the given block, and closes it at the end.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#open%28filename%3AString%2C%26block%29-class-method" class="signature"><strong>.open</strong>(filename : String, &block)</a>
        
          <div class="summary"><p>Creates a new reader from the given <em>filename</em>, yields it to the given block, and closes it at the end.</p></div>
        
      </li>
    
  </ul>



  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#close-instance-method" class="signature"><strong>#close</strong></a>
        
          <div class="summary"><p>Closes Crystar reader</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#closed%3F%3ABool-instance-method" class="signature"><strong>#closed?</strong> : Bool</a>
        
          <div class="summary"><p>Returns <code>true</code> if this reader is closed.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#each_entry%28%26block%29-instance-method" class="signature"><strong>#each_entry</strong>(&block)</a>
        
          <div class="summary"><p>Yields each entry in the zip to the given block.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#next_entry%3AHeader%3F-instance-method" class="signature"><strong>#next_entry</strong> : Header?</a>
        
          <div class="summary"><p>next_entry advances to the next entry in the tar archive.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#sync_close%3D%28sync_close%29-instance-method" class="signature"><strong>#sync_close=</strong>(sync_close)</a>
        
          <div class="summary"><p>Whether to close the enclosed <code>IO</code> when closing this reader.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#sync_close%3F%3ABool-instance-method" class="signature"><strong>#sync_close?</strong> : Bool</a>
        
          <div class="summary"><p>Whether to close the enclosed <code>IO</code> when closing this reader.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
</div>


  <h2>Constructor Detail</h2>
  
    <div class="entry-detail" id="new(io:IO,sync_close=false)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(io : IO, sync_close = <span class="n">false</span>)

        <a class="method-permalink" href="#new%28io%3AIO%2Csync_close%3Dfalse%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new reader from the given <em>io</em>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L35" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(filename:String)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(filename : String)

        <a class="method-permalink" href="#new%28filename%3AString%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new reader from the given <em>filename</em>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L41" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="open(io:IO,sync_close=false,&amp;block)-class-method">
      <div class="signature">
        
        def self.<strong>open</strong>(io : IO, sync_close = <span class="n">false</span>, &block)

        <a class="method-permalink" href="#open%28io%3AIO%2Csync_close%3Dfalse%2C%26block%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new reader from the given <em>io</em>, yields it to the given block,
and closes it at the end.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L47" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="open(filename:String,&amp;block)-class-method">
      <div class="signature">
        
        def self.<strong>open</strong>(filename : String, &block)

        <a class="method-permalink" href="#open%28filename%3AString%2C%26block%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new reader from the given <em>filename</em>, yields it to the given block,
and closes it at the end.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L54" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="close-instance-method">
      <div class="signature">
        
        def <strong>close</strong>

        <a class="method-permalink" href="#close-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Closes Crystar reader</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L67" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="closed?:Bool-instance-method">
      <div class="signature">
        
        def <strong>closed?</strong> : Bool

        <a class="method-permalink" href="#closed%3F%3ABool-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns <code>true</code> if this reader is closed.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L30" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="each_entry(&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>each_entry</strong>(&block)

        <a class="method-permalink" href="#each_entry%28%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Yields each entry in the zip to the given block.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L60" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="next_entry:Header?-instance-method">
      <div class="signature">
        
        def <strong>next_entry</strong> : <a href="../Crystar/Header.html">Header</a>?

        <a class="method-permalink" href="#next_entry%3AHeader%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>next_entry advances to the next entry in the tar archive.
The Header.Size determines how many bytes can be read for the next file.
Any remaining data in the current file is automatically discarded.</p>

<p>EOF is returned at the end of the input.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L78" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="sync_close=(sync_close)-instance-method">
      <div class="signature">
        
        def <strong>sync_close=</strong>(sync_close)

        <a class="method-permalink" href="#sync_close%3D%28sync_close%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Whether to close the enclosed <code>IO</code> when closing this reader.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L31" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="sync_close?:Bool-instance-method">
      <div class="signature">
        
        def <strong>sync_close?</strong> : Bool

        <a class="method-permalink" href="#sync_close%3F%3ABool-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Whether to close the enclosed <code>IO</code> when closing this reader.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/naqvis/crystar/blob/e928324915a45949207a9ed7bc2f9b807be0148e/src/tar/reader.cr#L27" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
